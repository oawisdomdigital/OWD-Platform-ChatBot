{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!--Bing verification for sitmap-->
  <meta name="msvalidate.01" content="DF08A2878A3EE7DF059421737E83DF19" />
  <title>Home - OWD | Comprehensive Digital Solutions</title>

  <!-- Meta Description -->
  <meta name="description"
    content="Welcome to OWD, your all-in-one place for digital services. Check out what we offer and see how we can help you reach your goals with smart, custom solutions.">

  <!-- Meta Keywords -->
  <meta name="keywords"
    content="digital solutions, OWD Platform, web development, digital marketing, tech services, online solutions, IT support">

  <!-- Author -->
  <meta name="author" content="OWD">

  <!-- Open Graph Meta Tags for Social Sharing -->
  <meta property="og:title" content="Home - OWD | Comprehensive Digital Solutions">
  <meta property="og:description"
    content="Welcome to OWD Platform, your all-in-one place for digital services. Check out what we offer and see how we can help you reach your goals with smart, custom solutions.">
  <meta property="og:image" content="https://oawisdomdigital.pythonanywhere.com/static/assets/img/logo.png">
  <meta property="og:url" content="https://oawisdomdigital.pythonanywhere.com">
  <meta property="og:type" content="website">

  <!-- Twitter Card Meta Tags for Twitter Sharing -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Home - OWD | Comprehensive Digital Solutions">
  <meta name="twitter:description"
    content="Welcome to OWD, your one-stop destination for comprehensive digital solutions. Explore our services and discover how we can help you achieve your goals with innovative and tailored solutions.">
  <meta name="twitter:image" content="https://oawisdomdigital.pythonanywhere.com/static/assets/img/logo.png">

  <!-- Theme Color (Optional) -->
  <meta name="theme-color" content="#317EFB">


  <!-- Favicons -->
  <link href="{% static 'assets/img/favicon.png' %}" rel="icon">
  <link href="{% static 'assets/img/apple-touch-icon.png' %}" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <!--Google Verification for sitmap-->
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/aos/aos.css" rel="stylesheet' %}">
  <link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <!-- Font Awesome CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    integrity="sha512-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" crossorigin="anonymous"
    referrerpolicy="no-referrer" />
  <link href='https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
  <!-- Include Firebase libraries -->
  <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.1.2/firebase-firestore.js"></script>

  <link rel="manifest" href="{% static 'assets/manifest.json' %}">
  <!-- Main CSS File -->
  <link href="{% static 'assets/css/main.css' %}" rel="stylesheet">

</head>

<body class="index-page">

<style>
  /* Global Styles */
*,
html {
  --primaryGradient: linear-gradient(93.12deg, #ffc451 0.52%, #ffc451 100%);
  --primaryBoxShadow: 0px 10px 15px rgba(0, 0, 0, 0.1);
  --primary: #ffc451;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: Arial, sans-serif;
  background-color: #f9f9f9;
  height: 100vh;
  overflow: hidden; /* Prevent scrolling when the chatbox is full-page */
}

/* Chatbox Styles */
.chatbox {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 999;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  background-color: #ffffff;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

/* Header */
.chatbox__header {
  background: #007bff;
  display: flex;
  align-items: center;
  padding: 15px;
  color: white;
  flex-shrink: 0;
}

.chatbox__image--header img {
  border-radius: 50%;
  margin-right: 10px;
}

.chatbox__content--header h4 {
  margin: 0;
  font-size: 20px;
}

.chatbox__content--header p {
  margin: 0;
  font-size: 14px;
  opacity: 0.8;
}

/* Messages */
.chatbox__messages {
  flex: 1;
  overflow-y: auto;
  padding: 15px;
  display: flex;
  flex-direction: column-reverse;
  background: #f9f9f9;
}

/* Footer */
.chatbox__footer {
  position: absolute; /* Ensure it stays at the bottom of the chatbox */
  bottom: 0;
  width: 100%; /* Make it span the full width of the chatbox */
  display: flex;
  align-items: center;
  padding: 10px 15px;
  background: #f1f1f1;
  border-top: 1px solid #ddd; /* Optional: Add a subtle border */
  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
}

.chatbox__footer input {
  flex: 1; /* Take up remaining space */
  border: none;
  padding: 12px;
  border-radius: 30px;
  background: #ffffff;
  outline: none;
  margin-right: 10px;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.1);
}

.chatbox__send--footer {
  background: #007bff;
  color: white;
  border: none;
  padding: 10px;
  border-radius: 50%;
  cursor: pointer;
  transition: background 0.3s ease;
}

.chatbox__send--footer:hover {
  background: #0056b3;
}


/* Messages Styling */
.messages__item {
  margin-top: 10px;
  padding: 8px 12px;
  border-radius: 15px;
  max-width: 70%;
}

.messages__item--operator {
  margin-left: auto;
  background: #007bff;
  color: white;
}

.messages__item--visitor {
  margin-right: auto;
  background: #e0e0e0;
  color: #000;
}

/* Responsive Design */
@media screen and (max-width: 768px) {
  .chatbox__header h4 {
    font-size: 18px;
  }

  .chatbox__footer input {
    padding: 10px;
  }

  .messages__item {
    padding: 8px 10px;
  }
}

.welcome-gif {
  display: block;
  margin: 20px auto; /* Center the GIF horizontally and add spacing */
  max-width: 100%; /* Ensure it resizes for smaller screens */
  height: auto; /* Maintain aspect ratio */
  border-radius: 10px; /* Optional: Add rounded corners */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Optional: Add a soft shadow */
  margin-top: 100px;
}

</style>

<div class="container">
  <div class="chatbox">
    <div class="chatbox__support">
      <div class="chatbox__header">
        <div class="chatbox__image--header">
          <img src="https://img.icons8.com/color/48/000000/circled-user-female-skin-type-5--v1.png" alt="image">
        </div>
        <div class="chatbox__content--header">
          <h4 class="chatbox__heading--header">Chat support</h4>
          <p class="chatbox__description--header">Ask OWD Chat Support system anything related to OWD Platform!</p>
        </div>
      </div>
      <div class="chatbox__messages" id="chatbox__messages">
        <img src="https://media.tenor.com/uJcQPQkws5sAAAAj/hello-hi.gif" alt="Welcome GIF" class="welcome-gif">
        <!-- Messages will be appended here -->
      </div>
      <div class="chatbox__footer">
        <input type="text" id="user_input" placeholder="Write a message...">
        <button class="chatbox__send--footer send__button" id="send_button">Send</button>
      </div>
    </div>
    <div class="chatbox__button">
    </div>
  </div>
</div>

<script>
  class Chatbox {
    constructor() {
      this.args = {
        openButton: document.querySelector('.chatbox__button'),
        chatBox: document.querySelector('.chatbox__support'),
        sendButton: document.querySelector('.send__button'),
      }
      this.state = false;
      this.messages = [];
    }

    display() {
      const { openButton, chatBox, sendButton } = this.args;
      openButton.addEventListener('click', () => this.toggleState(chatBox));
      sendButton.addEventListener('click', () => this.onSendButton(chatBox));
      const node = chatBox.querySelector('input');
      node.addEventListener('keyup', ({ key }) => {
        if (key === "Enter") {
          this.onSendButton(chatBox);
        }
      });
    }

    toggleState(chatBox) {
      this.state = !this.state;
      if (this.state) {
        chatBox.classList.add('chatbox--active');
      } else {
        chatBox.classList.remove('chatbox--active');
      }
    }

    onSendButton(chatBox) {
      const textField = chatBox.querySelector('input');
      let text1 = textField.value;
      if (text1 === "") {
        return;
      }

      let msg1 = { name: "user", message: text1 };
      this.messages.push(msg1);

      fetch('{% url "predict" %}', {
        method: 'POST',
        body: JSON.stringify({ message: text1 }),
        mode: 'cors',
        headers: {
          'Content-Type': 'application/json',
          'X-CSRFToken': '{{ csrf_token }}'
        }
      })
        .then(r => r.json())
        .then(r => {
          let msg2 = { name: "Sam", message: r.answer };
          this.messages.push(msg2);
          this.updatedChatText(chatBox);
          textField.value = '';
        })
        .catch((error) => {
          console.error('Error:', error);
          this.updatedChatText(chatBox);
          textField.value = '';
        });
    }

    updatedChatText(chatBox) {
      var html = '';
      this.messages.slice().reverse().forEach(function (item) {
        if (item.name === "Sam") {
          html += '<div class="messages__item messages__item--visitor">' + item.message + '</div>';
        } else {
          html += '<div class="messages__item messages__item--operator">' + item.message + '</div>';
        }
      });

      const chatMessage = chatBox.querySelector('.chatbox__messages');
      chatMessage.innerHTML = html;
    }
  }

  const chatbox = new Chatbox();
  chatbox.display();
</script>

  


  

  

 


 


  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>



  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Wait until the page is fully loaded
      window.onload = function () {
        var preloader = document.getElementById("preloader");
        var mainContent = document.getElementById("main-content");

        // Hide the preloader and show the main content
        preloader.style.display = "none";
        mainContent.style.display = "block";
      };
    });

  </script>

  
  <!-- Vendor JS Files -->
  <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>
  <script src="{% static 'assets/vendor/aos/aos.js' %}"></script>
  <script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/glightbox/js/glightbox.min.js' %}"></script>
  <script src="{% static 'assets/vendor/imagesloaded/imagesloaded.pkgd.min.js' %}"></script>
  <script src="{% static 'assets/vendor/isotope-layout/isotope.pkgd.min.js' %}"></script>
  <script src="{% static 'assets/vendor/purecounter/purecounter_vanilla.js' %}"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


  <!-- Main JS File -->
  <script src="{% static 'assets/js/main.js' %}"></script>
  <script src="{% static 'assets/js/custom.js' %}"></script>

</body>

</html>